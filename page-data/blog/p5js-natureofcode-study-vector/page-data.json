{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/p5js-natureofcode-study-vector/","result":{"data":{"site":{"siteMetadata":{"title":"sosunnyproject | Personal Website · Portfolio · Dev Blog · Contact","author":"So Sun Park | sosunnyproject"}},"markdownRemark":{"html":"<h1>1.1 Bouncing ball with no vectors</h1>\n<p>벡터 클래스 이용 없이 위치, 속력 이동 계산.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> xspeed <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> yspeed <span class=\"token operator\">=</span> <span class=\"token number\">3.3</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">createCanvas</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">background</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">background</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  x <span class=\"token operator\">+=</span> xspeed<span class=\"token punctuation\">;</span>\n  y <span class=\"token operator\">+=</span> yspeed<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">></span> width<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    xspeed <span class=\"token operator\">=</span> xspeed <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> \n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>y <span class=\"token operator\">></span> height<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    yspeed <span class=\"token operator\">=</span> yspeed <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token number\">175</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">ellipse</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>physics variables</h2>\n<ul>\n<li>location</li>\n<li>speed</li>\n<li>acceleration</li>\n<li>target location</li>\n<li>wind</li>\n<li>friction</li>\n</ul>\n<h1>1.2 Vectors for Processing Programmers</h1>\n<ul>\n<li>new location = velocity applied to current location</li>\n<li>location, velocity</li>\n<li><a href=\"https://p5js.org/reference/#/p5.Vector\">p5.Vector 클래스 활용</a>\n<ul>\n<li>components of vector: x, y, z</li>\n<li>magnitude: mag()</li>\n<li>direction: heading()</li>\n<li>vector 계산용 math API 따로 있음. 단순 +, -, * 연산 불가</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> loc<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> vel<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> r <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">createCanvas</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">background</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  loc <span class=\"token operator\">=</span> <span class=\"token function\">createVector</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  vel<span class=\"token operator\">=</span> <span class=\"token function\">createVector</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3.3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">background</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  loc <span class=\"token operator\">=</span> loc<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>vel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> width<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">.</span>x <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    vel<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> vel<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 벡터 연산이 아님</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> height<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">.</span>y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    vel<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> vel<span class=\"token punctuation\">.</span>y <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token number\">175</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">ellipse</span><span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>1.3 Vector Addition</h1>\n<ul>\n<li>exercise 1.1: separate x, y variables --> use p5.Vector class</li>\n<li>exercise 1.2: walker example from introduction and convert it to use PVectors\n<ul>\n<li><a href=\"https://editor.p5js.org/sosunnyproject/sketches/LdMuFLOKh\">practice</a></li>\n</ul>\n</li>\n<li>exercise 1.3: Extend bouncing ball with vectors example into 3D. Make sphere to bounce around a box\n<ul>\n<li><a href=\"https://editor.p5js.org/sosunnyproject/sketches/xvXto_pKO\">3d + lighting + bouncing ball</a></li>\n<li><a href=\"https://www.notion.so/Light-in-P5-90f4a5b4d66b4a97ad0c71bea4c9f59b\">lighting 3d tutorial</a></li>\n</ul>\n</li>\n</ul>\n<h1>1.4 Vector Sub / Calculations</h1>\n<ul>\n<li>\n<p>mouseX, mouseY  - centerX, centerY</p>\n</li>\n<li>\n<p><a href=\"https://editor.p5js.org/sosunnyproject/sketches/PnkaEedJi\">practice</a></p>\n</li>\n<li>\n<p>기존 예제: mouseX, mouseY 활용한 벡터</p>\n</li>\n<li>\n<p>응용 코드: 끝점 - 시작점의 벡터라인이 알아서 원을 그리게끔 변경</p>\n<ul>\n<li>end 라는 벡터값의 x, y : degress 모드\n<ul>\n<li>angle 변수가 계속 0 ~ 360 을 유지하면서 변경되는 값이도록 설정</li>\n<li>slider, val : 슬라이더 값을 곱함으로써, 항상 중앙좌표점에서 시작하는게 아니라, 변동이 되도록 ..</li>\n<li>rOff :</li>\n<li>곱한 1000 값은 벡터 선의 길이</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> mouseVec<span class=\"token punctuation\">,</span> center<span class=\"token punctuation\">,</span> angle<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> slider<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> rOff <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">createCanvas</span><span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  slider <span class=\"token operator\">=</span> <span class=\"token function\">createSlider</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.25</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">background</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> val <span class=\"token operator\">=</span> slider<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  angle <span class=\"token operator\">=</span> frameCount<span class=\"token operator\">%</span><span class=\"token number\">360</span><span class=\"token punctuation\">;</span>\n  rOff <span class=\"token operator\">+=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// mouseVec = createVector(mouseX, mouseY);</span>\n  end <span class=\"token operator\">=</span> <span class=\"token function\">createVector</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token operator\">*</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>angle<span class=\"token operator\">*</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token operator\">*</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>angle<span class=\"token operator\">*</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  <span class=\"token comment\">// val 곱하면, 슬라이더 값에 따라서 translate 좌표로부터 변이가 생김.</span>\n\n  center <span class=\"token operator\">=</span> <span class=\"token function\">createVector</span><span class=\"token punctuation\">(</span>width<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token comment\">// mouseVec.sub(center); // 마우스 지점이 벡터 라인의 끝점</span>\n  end<span class=\"token punctuation\">.</span><span class=\"token function\">sub</span><span class=\"token punctuation\">(</span>center<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// end 벡터 라인에서 화면 중앙 좌표점 뺀 값의 벡터 </span>\n\n  <span class=\"token comment\">// translate(width/2, height/2); // 벡터가 계속 중앙좌표점에서 시작</span>\n  <span class=\"token function\">translate</span><span class=\"token punctuation\">(</span>width<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>rOff <span class=\"token operator\">%</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>rOff <span class=\"token operator\">%</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 벡터의 시작점이 점점 중앙에서 멀어지면서 sin, cos 원리대로 원을 그림. rOff % 200 을 함으로써 시작점이 0~200 을 계속 반복하도록, 캔버스에서 아예 벗어나지 않도록 함.</span>\n\n  <span class=\"token comment\">// 이하 생략</span></code></pre></div>","excerpt":"1.1 Bouncing ball with no vectors 벡터 클래스 이용 없이 위치, 속력 이동 계산. physics variables location speed acceleration target location wind friction 1.…","fields":{"slug":"/blog/p5js-natureofcode-study-vector/"},"frontmatter":{"title":"[p5js] Nature of Code - Vectors (feat. Coding Train)","category":"blog","date":"2020-04-25"}}},"pageContext":{"slug":"/blog/p5js-natureofcode-study-vector/"}},"staticQueryHashes":["2052298874"],"slicesMap":{}}