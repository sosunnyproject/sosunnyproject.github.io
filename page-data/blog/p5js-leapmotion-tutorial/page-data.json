{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/p5js-leapmotion-tutorial/","result":{"data":{"site":{"siteMetadata":{"title":"sosunnyproject | Personal Website · Portfolio · Dev Blog · Contact","author":"So Sun Park | sosunnyproject"}},"markdownRemark":{"html":"<h1>Leap Motion x P5.JS API 파헤치기</h1>\n<p>전시에서 아두이노로 인터렉션을 구현하려다가 언택트 흐름에 맞게 립모션으로 대체하려고 라이브러리 API 를 테스팅하고 있다.</p>\n<h1>Leap Motion 이란?</h1>\n<p>Leap Motion은 손바닥만한 카메라 센서 기기이다. 키넥트처럼 인식 범위가 넓지는 않고 보통 손 2개 정도를 커버할 수 있다고 보면 된다.</p>\n<p>손목부터 손가락 마디마디, 손가락 끝부분까지 생각보다 굉장히 많은 손 관절들의 좌표를 캐치한다.</p>\n<figure style=\"display: block; margin: 0 auto; text-align: center\">\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 635px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/348c9125272a661a89866e78cb4268b2/1ddef/leapmotion1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB20lEQVR42p2SWU/bUBCF/ZPznOQFJCCVqED0X1CgT1Sij8aRSGWbRcE1hCQiNtn3OIuX5FQzyFc3qUMlRhpd+y7fPTP3KNgSq9WKx/l8jn6/vzYXj0mhfARrt9uoVqsoFouo1+ti7dPA2WyG8XiMXq+HxWLxeaAMDYKAoRTL5VIA5ZT3b1UYbyBlo9EIH4Ws+L8KZaDnefw9mUxYNX37vr+ucJt8GUiHqVzXdVGr1dBsNvmxKpWKuCyxZJqMokgk/ZNthsOh2EMAen3q7WY1NCqb6pKCoHHJjUaDfUmKKTehymAwYFuQChpNw8DPy0tomoZSqcRpWRaDptPpP5eFYcj2Egpluuu+4fT0O3K5Lzg8/IqTk2/Y2dlFJpNBNptFOp1GKpXC/t4eX0DKHceBaZqiBYpcKt30+PgHd3cPKBR+Q9cN3N8/wDRvoarXuLr6haOjYxwc5NDt9vixbNuGruvcV/EoBKIF2vD6WkO5XIH99Mzgm5sCtHweqqoir+VxdnaOi4sf8P13Ra1Wi1u1VjL1kWS7jsOlUPNpkSwz8Tx0Ol04zhteXsowDBOWZbMLknyrxI0lg5IlCBh7K35JSgIEQcjKwjBa86vsEmWbXeT5+ACBwygSdkmy219qTMihqhsqawAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"leapmotion1\" title=\"leapmotion1\" src=\"/static/348c9125272a661a89866e78cb4268b2/1ddef/leapmotion1.png\" srcset=\"/static/348c9125272a661a89866e78cb4268b2/8514f/leapmotion1.png 192w,\n/static/348c9125272a661a89866e78cb4268b2/804b2/leapmotion1.png 384w,\n/static/348c9125272a661a89866e78cb4268b2/1ddef/leapmotion1.png 635w\" sizes=\"(max-width: 635px) 100vw, 635px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<figcaption>Leap Motion 기기 모형</figcaption>\n</figure>\n<br />\n<figure style=\"display: block; margin: 0 auto; text-align: center\">\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7ec7d8aefbd9d71cc8590d9a042cf03e/c61d0/leapmotion2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuUlEQVR42m2TX0hTURzHzzbU7e6fzk1DUVAkpuIaQpEMXCrN/phgkQT6ED1kgSvfAqH3Hnos2kshLQIJ0hcjiEi0ULbpciR63V3Xze3uXrE5EJ+/8TuyIdTD9/5+55zP+f5+53APOz4+RrFY5CoUClyl/PDwEKqqIpfLIZvNQlGUf5gSRyIvlkgksLa2hmg0WtbpMeVkSGbxeByRSOS/zPr6OsiLVVZWoiSz2Yzq6mrYbDbU19fz3GKxYHV1lcMOhwMGgwFGoxFWqxU1NTWcaWho4HsqKirAmpubwRhDVVUVBEHgAMEEUAGTyYSVlRX8jMdhEczQ6XScpUJkSKzdbucNkTEbHh7mhgTQgsvlKpuSIW1eXFxEfOsXrC4HDDo9X6utrYXT6Sx3Sh6BQABsenqaD6iT0x1SAbOFOjTi2etXSGR30eH3cJaOTOsllkTzwWAQLBwOlyESXUFbWxsEkwD7GScCt27j5UwYP8Tf8F3znRS3WeBud6O1tZWfonR/oVAILBaL8e7IjOChoSGMjo5Cr9fjnP8C7j+aRPT7BqS0DN/AJQg2Cy6P3cRkMIh2txtMx+D1etHX14elpSWwfD6PpqYmbkaiDnv9vTw/29WBu2N38P7TPJ7Pv8WVG9dx3u9DYKAXPRd7+BURRx12d3dDlmWwo6MjjI+P89+EjkrHGBwcRGdnJxobG3HvwQRCH97h6tOHCE49xsSTKXR5Pejv74fH40FLSwvq6uowMjLCf3ZGn0wmg52dHSSTSS5Jkrgo39zchJLZg7gtYmt7C6IoYlsUkUqlyjztTafT/LUwTVX586K4v78PTdN4pLmDgwPImTS+bUSwEFvGwvJXfFz+guKfAlRNLbMUuYemgeVlCTlJRG5X5s8rryg8kghKpiS8mZvFi9kZzHyeQzazByV/sk73fzoS/xcKQmr3rj0vrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"leapmotion2\" title=\"leapmotion2\" src=\"/static/7ec7d8aefbd9d71cc8590d9a042cf03e/e5715/leapmotion2.png\" srcset=\"/static/7ec7d8aefbd9d71cc8590d9a042cf03e/8514f/leapmotion2.png 192w,\n/static/7ec7d8aefbd9d71cc8590d9a042cf03e/804b2/leapmotion2.png 384w,\n/static/7ec7d8aefbd9d71cc8590d9a042cf03e/e5715/leapmotion2.png 768w,\n/static/7ec7d8aefbd9d71cc8590d9a042cf03e/c61d0/leapmotion2.png 1145w\" sizes=\"(max-width: 768px) 100vw, 768px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<figcaption>실제 Leap Motion 소프트웨어 캡쳐</figcaption>\n</figure>\n<p>내가 처음 사용해본 계기는 VR 이었던 걸로 기억한다. VR 헤드셋 앞쪽에 Leap Motion을 달고 그걸로 움직이는 내 손의 좌표 정보를 앱에 전달해서 게임같은 인터렉션을 할 수 있게 만드는 데모들이 꽤 많았다. 그걸 체험해보고 나서, 대학교 4학년 졸업작품으로 Unity와 Leap Motion을 연동해서 간단한 음악 게임 인터렉션을 구현했었다.</p>\n<h1>Leap Motion을 선택한 이유</h1>\n<p>작년에 독일 베를린의 Futurium (tech + art) 박물관을 갔을 때도 전시물 중 하나가 Leap Motion을 사용한 걸 보고, 아직도 꽤 쓰이는 구나 싶었다. 사실 키넥트만큼 파워풀하지는 않아서 잊고 있었는데, 요즘은 전시나 작품을 구상할 때, LESS IS MORE 를 모토로 삼고 있기 때문에 키넥트나 웹캠 대신 Leap Motion을 선택했다. 너무 복잡하게 만들어서 관객이나 사용자에게 '이거는 <del>이렇게 저렇게</del> 해야 한다'라고 설명해줘야 하는 것 자체가 어떻게 보면 경험에 방해가 될 수도 있고, 다양한 리액션이나 happy surprise 를 억제할 수도 있겠다는 생각이 들었다.</p>\n<h1>작업 구상</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/65dbb55443c57308f1d9760223f98f8c/8c76f/breathebutton.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFH0lEQVR42n3MeVAUZBjH8RfKdLRpasYOBNSpAHVgVQ5BBt00SVG8EBFURBYQ2MOFvVdE0MUD2EVRAQ0RBARFR7w1z9SyPMYxD/6w+3AEQSlHxeXw27BkWVl/fOZ5n/d5fo+4O09Ns3E1d+400tjcQtPdZpqa79F0t4XGpu53Cw8ft/Go7cn/e/yEtid2xKT4fCYlr2PS8tr/FLZix/8Kz6kjxFxJwb4vES4p63FJLsRFZsNFZv2j9hggs+KaYMVVlo9rQr6jd+zE/517YgF9onJILzuC8EjJpZunPM/BIzXfUYco8vBI6T5UwDsJax3cE214yfMcevZ6DFVaeStuBabKwwiP1Bx6WBzVM9XiMCBhDV7pFiJW6lEUqEi1qfkoOwPXlNUMTFyFl9zyZ26oYiVvLsjAVLkf4S3P5BkfRSbeqZl4pGajK0zkepmUxtVDuKxx56xuMNcKJByrDmPKci3vJWUzXLHUkRuhysI9Tkdm5R5EoMLIM0EKIyPlZsq2RsCmoVyVeaAcPYT3B/nQu78vAwePomiuNz/V+JKUl4Jk0RJGKw0Eq8wMjVdhqapDjFOm022CKo3AZB2Wwhio9eGSMYzoaBV9xhcixpYgRi1DeCXxms88KpNCuL07kKlmFWNTNYSqtfjLFpFbXYMIVykIXyxnslLBDK2cH+qDaC2NJtO8mddjLyPi7+Kc1ILT3AacJlQg/ExERSZxvySQmopwpMlqZqYrkSYsZF11FSJqcSLR6kSmy5PJyp0Nh8dxvnQTY3TXESo7ryztotfSTpw1nTjFfoMYU0TIdD03beF8uy+YObpEYtTJTE6MoXh7OSJevYCE9FjmyGWUl0yEwzFUbzqFm/ZXnDM6eDvP7tA7qwNnxSPExD0EzzBzxTqb1qMBqLPmErdYRtSiCMpqShGKtGhUmjnIFPOoLplA14E4NhZd4A1NG70y23G1tuNma6fv8nacVG2IyfuZGqXl6/XTaD3ujykrErl6HvHJU6iqKUHoNREYNTNJU0WyMe8jOvbNoLTwKP0XtyK0nfSzdNDP0s7L5i5EQjN9J27BnBDHb+Vj+P5oIHp9BCZtJMqUUHbWbkBka6fQLSs9nGzTZO7sCuaUbSVe8quI+CZeUj3GWW3HKakFMfUUQVNUHNFJYe8IjlZJMSmnkmOYhjFlLHtr1yLydKF0s+pDyVFPpH5DCC0V41kkW4MI24sIP9bjwwo8xyWzIcaXB2t9aPwkgIKMCeRqQrEZJrFCHsThHVZEkV7KM8V6KWu1H/BF+Si+Lg5GGTkblxELGeAdQVhAAFtnvMv9VcNoPeRHTX4IhWlSig1Sio3jsSlGcmLnGkS5YTTPq9AH8bE2mJNFAdzePpyGdd6cX+bJrVxP7m0bQUNtADWWIErTR1NhDHJktplC2KQcxrmdOYidRl+eV/eHao0ftUv8OWb14/MSf05v8Kc+x49qnR87dL7Umf7K7DKPokr1HhfqshEHzRL+6YBZwqElEg6aJOzVS9ijlVCvk3DA0PPvmD23fyjDl/q0QVzdvQxxxuDGWYMbJ3XunNC6c1rvxjmjG5/q3Rz9Kb07Z4yDOG3onru90En9YI6kvsqNHVrEufWxHLfF8tXm+dwonc+l4liO2WL5bH0sDVvmc6VkPmdts7i4MYaGsjhublnwLw1b47lWNItfzpQirvzUwcUfOnn42I7dbufHlnZO3+rku+Z2Otrt3HvQxs1vfuZ28wOeAh2dT+nsepHuWRe/A6QWOrKUPqriAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"breathebutton\"\n        title=\"breathebutton\"\n        src=\"/static/65dbb55443c57308f1d9760223f98f8c/8c76f/breathebutton.png\"\n        srcset=\"/static/65dbb55443c57308f1d9760223f98f8c/8514f/breathebutton.png 192w,\n/static/65dbb55443c57308f1d9760223f98f8c/804b2/breathebutton.png 384w,\n/static/65dbb55443c57308f1d9760223f98f8c/8c76f/breathebutton.png 612w\"\n        sizes=\"(max-width: 612px) 100vw, 612px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://editor.p5js.org/sosunnyproject/full/yAFyidcnQ\">버튼 인터렉션 코드</a> 에서 breathe 버튼을 클릭하면 뒤의 배경색에 변화가 생긴다.\n원래 계획은 이 버튼 대신에 아두이노 인터렉션으로 시그널을 주고 싶었다. 실제로 아두이노 온습도 센서를 사서 시그널 테스팅까지 해보았다.\n센서에 날숨을 불어서 습도 (온도는 변화가 크게 안 생김) 의 변화 데이터를 스케치로 넘겨서 파란색 배경을 주황색으로 서서히 바꾸는 기획이었다.\n하지만 이 시국에 호흡기 관련 인터렉션을 쓴다고 하면 꺼림칙하게 느낄 관객들도 많을 것 같아서 최대한 언택트 인터렉션 도구를 고민했다.\n저번에 잠깐 사용했던 leap motion 을 다시 한 번 제대로 API 를 뒤져보면서 하고 싶다는 생각 + 키넥트를 사용한 거대한 인터렉션 보다는,\n간결 명료한 인터렉션 비쥬얼을 구현하고 싶다는 생각이 들었다.</p>\n<ul>\n<li><a href=\"https://github.com/leapmotion/leapjs\">깃험 공식 leap motion js 리포</a></li>\n<li><a href=\"https://github.com/leapmotion/leapjs/tree/master/examples\">깃헙 예제 링크 examples</a></li>\n</ul>\n<p>leap motion javascript 스크립트가 두 가지 버젼이 있는데, 둘 다 무리없이 작동하는 것 같다.</p>\n<h1>버젼 1 : leap motion 기본 라이브러리</h1>\n<ul>\n<li>현재 P5에서 작동하는 스크립트</li>\n<li><a href=\"https://editor.p5js.org/sosunnyproject/sketches/ThUMPizF4\">Leap Motion Test 실행 코드 예제</a></li>\n<li><a href=\"https://developer-archive.leapmotion.com/documentation/v2/javascript/index.html\">Leap Motion JS API</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token comment\">&lt;!-- p5 js --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.sound.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!-- leap motion --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//js.leapmotion.com/leap-0.6.3.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sketch.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h1>버젼 2 : leap motion plugin 라이브러리</h1>\n<ul>\n<li><a href=\"http://leapmotion.github.io/leapjs-plugins/docs/#screen-position\">LeapJS Plugins</a></li>\n<li>지난 데모 전시에 썼던 p5js 에서의 leap motion 플러그인 API 사용 코드</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 520px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1f2ab372ab0563216e9e28853a00dc3/69902/leapmotiontest1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 130.20833333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAADMElEQVR42q2Uy08aURjFeSpoq4IKtBY0NSqaagPVgGlCqC5I6gLExtimJtjYlWiCixoXJt00qYv6H/h3ddEUWuUxPEQGFWGG4TT3DoO8TNR0ki/cuZn74zv3nHtlMpkMdymVSkV/t7e3QZ5sNotw+DcYJg6GYRCJRJBIJMg3DwPm83mcnjAIhxlkMmcoFK5wfX39cGC5zCHPlhGLlVAuV1CpVCAIwu3A3t5eDAwM3Ark+RJyOQ6JeBE8L1AgqVuBy8vLWF9fp2O5XA6lUknHOzs7NWA2W0IqVaKd1YBdXV3o7OyE0+nE0NAQFAoFXTgxMUFLGvf39zcAqeQ8j2SyCeh2u2EymWCz2eBwOED+oL5T0h2Rbjab0dfXh62tLQq8LBQQOWGRTHLgOAFAFUhAU1NTMBqN8Pv96OjoqIFISWC9Xk9lS0D24hI/f2WQSfMoFsuNphA5i4uLcLlcbfeTgKWtqN9DYkqSIS43mWKxWGC1Wu8VG57nRJcTbYBerxdjY2O1bu4GLIFlOaSSbYA+n486fN8O2RwHplmyTqdDIBBAd3f3/5FMQJLc+wFFyek01yp5eHiYhvu+HZ6fi5IFoXIDJHGw2+0g0skCjVYFhUJ+K1CKzcVVAeETFqkUh1KpLtjkI2LI3NwcDKY+rG3Y8HrhOV2s06ohk7cHcpx4lhOJInhOaAw26WhkZBQGow5uzyjs82ZoOpRYefcCdqe5ARgMBmuSs+ccYrFi6x6SmnVYYRkZhEIpvj/q6YTHNwmna6QBuLu7K0q+vMKfKItMmkiWjl4VqNGq8fHzHJZWpmEwDNb2bdr2BGOT4rt0fR0eHtYk51jx6LXch2q1CjOvTHAtTGN8fBxKpYLOvf80C9/aSzzu0UKlUlPg/v7+TbBZHol4Uw6lQ28YNFHYzKwR82+e0jnTMw30BlWD25ubm2KH1RzGotUbW3L54OAAoVAIR0dH2Nv7gq/fgvj+I4TAxgcsvfXC71+htbq6Co/Hg+PjYwoUBJ7mMN5sCh7wUAMqZaRS14ieFlGu30OSnforXCppvrUqFFoolvA3yiJ7xoPj6lxuBt2lqClVmVLHUof/AGGt3hgXsahGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"leapmotiontest1\"\n        title=\"leapmotiontest1\"\n        src=\"/static/f1f2ab372ab0563216e9e28853a00dc3/69902/leapmotiontest1.png\"\n        srcset=\"/static/f1f2ab372ab0563216e9e28853a00dc3/8514f/leapmotiontest1.png 192w,\n/static/f1f2ab372ab0563216e9e28853a00dc3/804b2/leapmotiontest1.png 384w,\n/static/f1f2ab372ab0563216e9e28853a00dc3/69902/leapmotiontest1.png 520w\"\n        sizes=\"(max-width: 520px) 100vw, 520px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>빨간 점이 손의 위치를 가리킨다. colorful한 원들은 손을 따라가고, 나비들은 손을 피해가는 인터렉션.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hand <span class=\"token operator\">=</span> p5<span class=\"token punctuation\">.</span><span class=\"token function\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 손의 현재 위치 벡터값</span>\n<span class=\"token keyword\">let</span> phand <span class=\"token operator\">=</span> p5<span class=\"token punctuation\">.</span><span class=\"token function\">Vector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 손의 이전 위치 벡터값</span>\n<span class=\"token comment\">//Leap Motion</span>\nLeap<span class=\"token punctuation\">.</span><span class=\"token function\">loop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">frame</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  phand <span class=\"token operator\">=</span> hand<span class=\"token punctuation\">.</span><span class=\"token function\">copy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  frame<span class=\"token punctuation\">.</span>hands<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">handData<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>handData<span class=\"token punctuation\">.</span><span class=\"token function\">screenPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>width<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>width<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>handData<span class=\"token punctuation\">.</span><span class=\"token function\">screenPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>height<span class=\"token operator\">/</span><span class=\"token number\">2</span> <span class=\"token punctuation\">,</span>height<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token comment\">// WEBGL 세팅의 경우 가운데 좌표가 0,0 이어서 양 끝 좌표값은 -height ~ +height 같은 방식이다.</span>\n\n    hand<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'screenPosition'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">scale</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1>Hand Position</h1>\n<p>디테일한 손가락보다는 손의 높낮이 정도만 찾으면 된다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">frame.hands.forEach</code> => 왼손, 오른손</p>\n</li>\n<li>\n<p>x 좌표: <code class=\"language-text\">handData.screenPosition()[0]</code></p>\n</li>\n<li>\n<p>y 좌표: <code class=\"language-text\">handData.screenPosition()[1]</code></p>\n</li>\n<li>\n<p>LeapJS Plugins 에서는 screenPosition, LeapJS 에서는 palmPosition 을 사용해보았다.</p>\n</li>\n<li>\n<p>ScreenPosition 은 스케치의 좌표 기준에서 hand 가 어디있는지에 맞춰진 데이타가 반환된다.</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Adds the “screenPosition” method by default to hands and pointables. \nThis returns a vec3 (an array of length 3) with [x,y,z] screen coordinates \nindicating where the hand is. This method can accept an optional vec3, \nallowing it to convert any arbitrary vec3 of coordinates.</code></pre></div>\n<ul>\n<li>반면, palmPosition은 Leap origin (leap motion 기기) 로부터 손바닥이 얼마나 떨어져있는지에 대한 raw data를 반환하는 것 같다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Hand.palmPosition\nType:\tnumber[] – a 3-element array representing a unit direction vector.\nThe center position of the palm in millimeters from the Leap origin.\nvar position = hand.palmPosition;</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 542px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/54c855aa4f0d1601013e89dfd9fe9eb5/c0388/leapmotiontest2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 125.52083333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAADMklEQVR42p1VW0/iYBCl5SKGy4KXBVlAEIgS3USj8RKz2WjWF33cGBOffPBnqfjqj1oTRSmFWFQE20I5mxlsty08bGwy6dfS73wz55wZPB6PB/8Toijy/fr6GnRJkoTb2z9oNpuoVqu4v7+D3GzRN58DlGUZ1WoN9XoDiqKg2+3itd0eBQwHghAFEX5RQFAcvhPGAOq6hmZTh1TToGkGgAEGg8Eo4M98GfFgiNfL0wlM+gO89roANU2DouiQJA2q2mdAwxjAIwgC5pJJCB8bKPx+P1LpNH7/+IWZyJchoNc7Avj0pOPxUbUyZMBAIIB0JoOpUATFqcSw7FAY+VwOk9GwVTId7ADUNdTrGh4eVOi6DdDMKhII4nsi4yi/EJvFytc0r0OhIQ2VSsWRIYGagBaHgg3EK4jIxmZ4HQtHsFJaHPK5vMygFxcXDkCppkJVPwCNMaKQCNuZ0nA9OYlU+huvV1dXmdvLy0sLsNHUUKv943AsIIdPRCqVwsTEhPUuGo06Su71dM7QDmi4AYPBIHw+HzbW13FwcMAxPT3tOMwUpfXSxqPUZdu8v/fHAxYKBeYqn8/z8/z8PI6Ojji7XC7nAHxtd1CX3yGPE8UM9uTcnLWZYm9vD8fHx9jc3HR1ig5F6bHKDg7tPJn2iMVilu9OT09xdnbGVLiNTaKQDx2dUiwWGSAcDmNxcdHqWSqdstrf38fGxsYIh+MBDXhmZ2eZq3K5jEQiwfzF43FWeW1tjQ/JZrOjnWL2sns4kNcoQ9pEWW5vb1scUpmHh4fY2toayZBsQxxKkopez2CwsdPGHWRoO88Vm23kxlBlB4fmh6TuwsICl0+Thcon7paWlhzTxjR2VXrC3UMbcl1Ht+saX6a6yWQSJFIkEgFxe3Jy4ijfXrKqqWg0NO7lkQFLHxOPmUyGM6RMPbaRZY+rqytLFJ7Ykqv1SMVSqYTz83Ps7u5iZ2eHrUIiUZaUNQWpTqLd3Nw4AOuS5gTsdDpotVr8J/P29gZ6pvvLy8tIPD8/c4dgAPacLGuoVl0l4xMXbez3+3hSdOaRepnesbHNhekjM+jduDB/13sGl9jvD5/Ng/4CfXK2GlgIVNMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"leapmotiontest2\"\n        title=\"leapmotiontest2\"\n        src=\"/static/54c855aa4f0d1601013e89dfd9fe9eb5/c0388/leapmotiontest2.png\"\n        srcset=\"/static/54c855aa4f0d1601013e89dfd9fe9eb5/8514f/leapmotiontest2.png 192w,\n/static/54c855aa4f0d1601013e89dfd9fe9eb5/804b2/leapmotiontest2.png 384w,\n/static/54c855aa4f0d1601013e89dfd9fe9eb5/c0388/leapmotiontest2.png 542w\"\n        sizes=\"(max-width: 542px) 100vw, 542px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>console.log 에 찍힌 첫번째 값은 screenPosition, 두번째 값은 palmPosition이다</strong></p>\n<ul>\n<li>결론: screenPosition API 가 주는 데이터가 일단은 더 간편해보이는데 plugin API 라서 얼만큼 활용도가 가능한지 더 사용해볼 예정이다.</li>\n</ul>","excerpt":"Leap Motion x P5.JS API 파헤치기 전시에서 아두이노로 인터렉션을 구현하려다가 언택트 흐름에 맞게 립모션으로 대체하려고 라이브러리 API 를 테스팅하고 있다. Leap Motion 이란? Leap Motion…","fields":{"slug":"/blog/p5js-leapmotion-tutorial/"},"frontmatter":{"title":"[p5js] Using LeapMotion for Creative Coding","category":"blog","date":"2020-05-24"}}},"pageContext":{"slug":"/blog/p5js-leapmotion-tutorial/"}},"staticQueryHashes":["2052298874"],"slicesMap":{}}